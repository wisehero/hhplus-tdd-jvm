## 기본 과제

### 문제 1:  UserPoint 도메인 객체에서 단위 테스트를 진행한 것에 대해 Service에서 다시 수행할 필요가 있을까?

- 도메인 객체에서 수행한 단위 테스트를 다시 한번 서비스 단위 테스트를 진행하면서 뭔가 같은 것을 반복한다는 느낌 들었습니다.
- 서비스를 자세히보면 Repository 메서드들의 호출 결과를 확인해야 하거나 도메인 로직만 호출하는 것이 전부입니다.
- 이런 고민을 가지고 있었으나 멘토링 이후 PointService는 통합테스트를 해야하는 것으로 결론 짓고 통합 테스트를 진행했습니다.

### 문제 2: Controller 단위 테스트는 유의미한가?

- Controller의 단위 테스트는 단순히 입력값을 검증하는 것에 국한되는게 맞을까?
- PointController의 입력값 검증은 전부 스프링의 Bean Validation 어노테이션으로 진행했습니다.
- 그런데 이 애노테이션들은 이미 라이브러리 단에서 테스트가 전부 이루어졌을텐데 굳이 내가 또 테스트 해야하나?
- 그러면 Controller는 단위 테스트 대상이 맞는가? 라는 고민이 들었고 멘토링 이후 E2E Test로 진행하라는 조언을 얻었습니다.
- 성공, 실패 케이스의 입력값과 그 응답에 대응하는 HTTP 호출 및 응답결과를 검증했습니다.

### 사소한 문제

- 통합 테스트 실행 시 매번 데이터를 클린징 해줘야하지만 과제 요구사항에선 database 패키지 수정을 하지 말란 요구사항이 있었습니다.
- 그래서 delete 메서드를 따로 추가하지 않았습니다.
- 임시방편으로 `@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_EACH_TEST_METHOD)`을 사용했습니다.
- 하지만 매 번 컨텍스트를 초기화해서 시간을 많이 소요하는 문제가 있었습니다.

---

